import{o as M,P,a as b,F as T,G as y}from"./pixi-components.DWlrOv-o.js";import{d as x,a as f}from"./solid.CHRI_SBa.js";import{a as D}from"./store.BGJt8PVe.js";import"./web.DWeZmYXh.js";import"./preload-helper.BXH4tTM1.js";const S=(t,o,e,i=300,l=1/0,n=1/60,c=.01)=>{if(t===o)return t;if(Math.abs(t-o)<c&&Math.abs(e.value)<c)return e.value=0,o;const u=2/(i/1e3),a=u*n,p=1/(1+a+.48*a*a+.235*a*a*a),m=t-o,d=(e.value+u*m)*n;e.value=(e.value-u*d)*p;let g=o+(m+d)*p;if(l!==1/0){const r=l*n;g=t+Math.max(-r,Math.min(r,g-t))}return g},h=t=>{const[o,e]=x(t.to()),i=D({value:0}),l=n=>{const c=o(),s=t.to();if(c===s){i.value=0;return}const u=n/1e3,a=S(c,s,i,t.smoothTimeMs?.(),t.maxSpeed?.(),u);e(a)};return M(n=>{l(n.deltaMS)}),{value:o,velocity:()=>i.value}},C=()=>{const[t,o]=x(!1),e={x:100,y:100},i=1.4,l=.8;let n=l;const c=h({to:()=>n,smoothTimeMs:()=>t()?50:200});let s;const u=r=>{if(s=r.target,n=i,o(!0),!r.target.parent)return;const v=r.target.parent.toLocal(r.global);e.x=v.x,e.y=v.y},a=()=>{s=void 0,n=l,o(!1)},p=r=>{!s||!s.parent||s.parent.toLocal(r.global,void 0,e)},m=h({to:()=>e.x,smoothTimeMs:()=>150}),d=h({to:()=>e.y,smoothTimeMs:()=>150}),g=new T({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return f(y,{ref:r=>{r.roundRect(-50,-50,100,100,20).fill(g)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:u,onpointerup:a,onpointerupoutside:a,onglobalpointermove:p,get angle(){return m.velocity()*.05},get scale(){return c.value()},get x(){return m.value()},get y(){return d.value()}})},L=()=>f(b,{antialias:!0,get children(){return f(P,{style:{"aspect-ratio":"2/1.5"},get children(){return f(C,{})}})}});export{L as DemoApp};
