import{g as _,t as C}from"./web.ZE34Hqpb.js";import{m as R,p as d,q as T,r as y,o as A,s as v,P as w,a as X,b as Y}from"./pixi-stage.l4mjo6qP.js";import{onResize as O}from"./index.DtUb6bkz.js";import{m as k,a as o,c as E,b as I,S as N}from"./solid.iehf1XW_.js";import{A as V}from"./Assets.MRwKn7G9.js";import"./preload-helper.BlTxHScW.js";import"./BitmapFont.DudZPgzQ.js";const g=class c{constructor(t){if(t instanceof R)this.texture=t,d(this,c.defaultOptions,{});else{const e={...c.defaultOptions,...t};d(this,e,{})}}get alpha(){return this._alpha}set alpha(t){this._alpha=Math.min(Math.max(t,0),1),this._updateColor()}get tint(){return T(this._tint)}set tint(t){this._tint=y.shared.setValue(t??16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+((this._alpha*255|0)<<24)}};g.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let q=g;var z=C("<div>Loading...");const B=i=>{let t;const e=[];for(let a=0;a<500;a++)e.push(new q({texture:i.particleTexture,rotation:0,anchorX:.5,anchorY:.5,scaleX:.5,scaleY:.5}));let r=0;const x=100,f=200,l=.005,b=.05,P=.05,h=.25,M=1-h;return A(a=>{r+=a.deltaTime,e.forEach((n,S)=>{const s=S*.1,u=x+Math.sin(r*l*(1+s*.1)+s)*f,p=r*l*(1+s*.05)+s*Math.PI;n.x=u*Math.cos(p),n.y=u*Math.sin(p);const m=h+M*.5*(1+Math.sin(r*b*(1+s*.02)+s*.5));n.scaleX=m,n.scaleY=m,n.rotation+=P*Math.sin(s)*a.deltaTime})}),k(()=>{t&&t.addParticle(...e)}),o(v,{dynamicProperties:{position:!0,rotation:!0,vertex:!0},ref:a=>{t=a,i.ref(a)}})},J=()=>{const[i]=E(()=>V.load("/spark.webp"));return o(Y,{get children(){return o(I,{get fallback(){return _(z)},get children(){return o(w,{style:{"aspect-ratio":"2/1.5"},get children(){return o(N,{get when(){return i()},children:t=>o(X,{get children(){return o(B,{get particleTexture(){return t()},ref:e=>{O(r=>{e.position.x=r.width*.5,e.position.y=r.height*.5})}})}})})}})}})}})};export{J as DemoApp,B as MyParticleContainerComponent};
