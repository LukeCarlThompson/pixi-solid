import{o as P,P as M,b,F as T,G as y,a as D}from"./pixi-stage.BUHgtes7.js";import{d as x,a as p}from"./solid.CMZztZOQ.js";import{a as S}from"./store.DSG1jRGn.js";import"./web.rIA_qXDy.js";import"./preload-helper.BXH4tTM1.js";const w=(t,o,e,i=300,l=1/0,n=1/60,c=.01)=>{if(t===o)return t;if(Math.abs(t-o)<c&&Math.abs(e.value)<c)return e.value=0,o;const u=2/(i/1e3),a=u*n,d=1/(1+a+.48*a*a+.235*a*a*a),g=t-o,f=(e.value+u*g)*n;e.value=(e.value-u*f)*d;let m=o+(g+f)*d;if(l!==1/0){const r=l*n;m=t+Math.max(-r,Math.min(r,m-t))}return m},h=t=>{const[o,e]=x(t.to()),i=S({value:0}),l=n=>{const c=o(),s=t.to();if(c===s){i.value=0;return}const u=n/1e3,a=w(c,s,i,t.smoothTimeMs?.(),t.maxSpeed?.(),u);e(a)};return P(n=>{l(n.deltaMS)}),{value:o,velocity:()=>i.value}},C=()=>{const[t,o]=x(!1),e={x:100,y:100},i=1.4,l=.8;let n=l;const c=h({to:()=>n,smoothTimeMs:()=>t()?50:200});let s;const u=r=>{if(s=r.target,n=i,o(!0),!r.target.parent)return;const v=r.target.parent.toLocal(r.global);e.x=v.x,e.y=v.y},a=()=>{s=void 0,n=l,o(!1)},d=r=>{!s||!s.parent||s.parent.toLocal(r.global,void 0,e)},g=h({to:()=>e.x,smoothTimeMs:()=>150}),f=h({to:()=>e.y,smoothTimeMs:()=>150}),m=new T({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return p(D,{get children(){return p(y,{ref:r=>{r.roundRect(-50,-50,100,100,20).fill(m)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:u,onpointerup:a,onpointerupoutside:a,onglobalpointermove:d,get angle(){return g.velocity()*.05},get scale(){return c.value()},get x(){return g.value()},get y(){return f.value()}})}})},R=()=>p(b,{antialias:!0,get resolution(){return window.devicePixelRatio},get children(){return p(M,{style:{"aspect-ratio":"2/1.5"},get children(){return p(C,{})}})}});export{R as DemoApp};
