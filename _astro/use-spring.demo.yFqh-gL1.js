import{o as x,P as D,a as M,F as T,G as V}from"./pixi-components.DWlrOv-o.js";import{d as b,a as d}from"./solid.CHRI_SBa.js";import"./web.DWeZmYXh.js";import"./store.BGJt8PVe.js";import"./preload-helper.BXH4tTM1.js";const v=t=>{const[r,n]=b(t.to()),[g,i]=b(0),c=l=>{const a=t.to(),s=r(),o=g();if(a===s)return;if(Math.abs(o)<.1&&Math.abs(s-a)<.01){i(0),n(a);return}const p=l/1e3,u=y(t.stiffness?.()??10,-1,-300),f=y(t.damping?.()??30,-.4,-20),m=y(t.mass?.()??20,.1,10),e=u*(s-a),P=f*o,h=(e+P)/m;i(S=>S+h*p),n(s+o*p)};return x(l=>{c(l.deltaMS)}),{value:r,velocity:g}},y=(t,r,n)=>t*(n-r)/100+r,w=()=>{const[t,r]=b(!1),n={x:100,y:100},g=1.4,i=.8;let c=i;const l=v({to:()=>c,damping:()=>t()?50:100,stiffness:()=>t()?80:100,mass:()=>20}),a=v({to:()=>n.x,damping:()=>t()?50:100,stiffness:()=>t()?40:100}),s=v({to:()=>n.y,damping:()=>t()?60:100,stiffness:()=>t()?30:100});let o;const p=e=>{o=e.target,c=g,r(!0),e.target.parent&&e.target.parent.toLocal(e.global,void 0,n)},u=()=>{o=void 0,c=i,r(!1)},f=e=>{!o||!o.parent||o.parent.toLocal(e.global,void 0,n)},m=new T({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return d(V,{ref:e=>{e.roundRect(-50,-50,100,100,20).fill(m)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:p,onpointerup:u,onpointerupoutside:u,onglobalpointermove:f,get angle(){return a.velocity()*.05},get scale(){return l.value()},get x(){return a.value()},get y(){return s.value()}})},I=()=>d(M,{antialias:!0,get children(){return d(D,{style:{"aspect-ratio":"2/1.5"},get children(){return d(w,{})}})}});export{I as DemoApp};
