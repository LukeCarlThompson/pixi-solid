import{P as D,F as x,G as M}from"./components.Bau-Cigy.js";import{d as y,a as b}from"./solid.ZhL3cof1.js";import{o as T}from"./on-tick.Dx85JPzm.js";import"./web.BExr27zt.js";import"./store.BeKbOJVg.js";import"./preload-helper.BXH4tTM1.js";const m=t=>{const[r,n]=y(t.to()),[g,i]=y(0),c=l=>{const s=t.to(),a=r(),o=g();if(s===a)return;if(Math.abs(o)<.1&&Math.abs(a-s)<.01){i(0),n(s);return}const p=l/1e3,u=v(t.stiffness?.()??10,-1,-300),f=v(t.damping?.()??30,-.4,-20),d=v(t.mass?.()??20,.1,10),e=u*(a-s),P=f*o,h=(e+P)/d;i(S=>S+h*p),n(a+o*p)};return T(l=>{c(l.deltaMS)}),{value:r,velocity:g}},v=(t,r,n)=>t*(n-r)/100+r,V=()=>{const[t,r]=y(!1),n={x:100,y:100},g=1.4,i=.8;let c=i;const l=m({to:()=>c,damping:()=>t()?50:100,stiffness:()=>t()?80:100,mass:()=>20}),s=m({to:()=>n.x,damping:()=>t()?50:100,stiffness:()=>t()?40:100}),a=m({to:()=>n.y,damping:()=>t()?60:100,stiffness:()=>t()?30:100});let o;const p=e=>{o=e.target,c=g,r(!0),e.target.parent&&e.target.parent.toLocal(e.global,void 0,n)},u=()=>{o=void 0,c=i,r(!1)},f=e=>{!o||!o.parent||o.parent.toLocal(e.global,void 0,n)},d=new x({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return b(M,{ref:e=>{e.roundRect(-50,-50,100,100,20).fill(d)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:p,onpointerup:u,onpointerupoutside:u,onglobalpointermove:f,get angle(){return s.velocity()*.05},get scale(){return l.value()},get x(){return s.value()},get y(){return a.value()}})},L=()=>b(D,{style:{"aspect-ratio":"2/1.5"},antialias:!0,get children(){return b(V,{})}});export{L as DemoApp};
