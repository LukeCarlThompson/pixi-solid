import{P as x,F as b,G as P}from"./pixi-components.BbiR8JRG.js";import{d as M,a as h}from"./solid.BNQBajBB.js";import{a as T}from"./store.BHICbBK7.js";import{o as y}from"./on-tick.DUY7t1Tx.js";import"./web.Cr4611hB.js";import"./preload-helper.BXH4tTM1.js";const D=(t,e,o,i=300,l=1/0,n=1/60,c=.01)=>{if(t===e)return t;if(Math.abs(t-e)<c&&Math.abs(o.value)<c)return o.value=0,e;const u=2/(i/1e3),a=u*n,p=1/(1+a+.48*a*a+.235*a*a*a),m=t-e,d=(o.value+u*m)*n;o.value=(o.value-u*d)*p;let g=e+(m+d)*p;if(l!==1/0){const r=l*n;g=t+Math.max(-r,Math.min(r,g-t))}return g},f=t=>{const[e,o]=M(t.to()),i=T({value:0}),l=n=>{const c=e(),s=t.to();if(c===s){i.value=0;return}const u=n/1e3,a=D(c,s,i,t.smoothTimeMs?.(),t.maxSpeed?.(),u);o(a)};return y(n=>{l(n.deltaMS)}),{value:e,velocity:()=>i.value}},S=()=>{const[t,e]=M(!1),o={x:100,y:100},i=1.4,l=.8;let n=l;const c=f({to:()=>n,smoothTimeMs:()=>t()?50:200});let s;const u=r=>{if(s=r.target,n=i,e(!0),!r.target.parent)return;const v=r.target.parent.toLocal(r.global);o.x=v.x,o.y=v.y},a=()=>{s=void 0,n=l,e(!1)},p=r=>{!s||!s.parent||s.parent.toLocal(r.global,void 0,o)},m=f({to:()=>o.x,smoothTimeMs:()=>150}),d=f({to:()=>o.y,smoothTimeMs:()=>150}),g=new b({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return h(P,{ref:r=>{r.roundRect(-50,-50,100,100,20).fill(g)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:u,onpointerup:a,onpointerupoutside:a,onglobalpointermove:p,get angle(){return m.velocity()*.05},get scale(){return c.value()},get x(){return m.value()},get y(){return d.value()}})},k=()=>h(x,{style:{"aspect-ratio":"2/1.5"},antialias:!0,get children(){return h(S,{})}});export{k as DemoApp};
