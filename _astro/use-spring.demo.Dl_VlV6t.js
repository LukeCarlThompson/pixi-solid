import{o as S,P as w,b as D,F as M,G as T,a as V}from"./pixi-stage.C9fbH3lV.js";import{d as P,a as g}from"./solid.CMZztZOQ.js";import"./web.rIA_qXDy.js";import"./preload-helper.BXH4tTM1.js";import"./store.DSG1jRGn.js";const v=t=>{const[r,n]=P(t.to()),[u,i]=P(0),c=l=>{const a=t.to(),s=r(),o=u();if(a===s)return;if(Math.abs(o)<.1&&Math.abs(s-a)<.01){i(0),n(a);return}const p=l/1e3,d=y(t.stiffness?.()??10,-1,-300),f=y(t.damping?.()??30,-.4,-20),m=y(t.mass?.()??20,.1,10),e=d*(s-a),b=f*o,h=(e+b)/m;i(x=>x+h*p),n(s+o*p)};return S(l=>{c(l.deltaMS)}),{value:r,velocity:u}},y=(t,r,n)=>t*(n-r)/100+r,G=()=>{const[t,r]=P(!1),n={x:100,y:100},u=1.4,i=.8;let c=i;const l=v({to:()=>c,damping:()=>t()?50:100,stiffness:()=>t()?80:100,mass:()=>20}),a=v({to:()=>n.x,damping:()=>t()?50:100,stiffness:()=>t()?40:100}),s=v({to:()=>n.y,damping:()=>t()?60:100,stiffness:()=>t()?30:100});let o;const p=e=>{o=e.target,c=u,r(!0),e.target.parent&&e.target.parent.toLocal(e.global,void 0,n)},d=()=>{o=void 0,c=i,r(!1)},f=e=>{!o||!o.parent||o.parent.toLocal(e.global,void 0,n)},m=new M({type:"linear",colorStops:[{offset:0,color:"#b6e3ff"},{offset:1,color:"#0099ff"}]});return g(V,{get children(){return g(T,{ref:e=>{e.roundRect(-50,-50,100,100,20).fill(m)},eventMode:"static",get cursor(){return t()?"grabbing":"grab"},onpointerdown:p,onpointerup:d,onpointerupoutside:d,onglobalpointermove:f,get angle(){return a.velocity()*.05},get scale(){return l.value()},get x(){return a.value()},get y(){return s.value()}})}})},I=()=>g(D,{antialias:!0,get resolution(){return window.devicePixelRatio},get children(){return g(w,{style:{"aspect-ratio":"2/1.5"},get children(){return g(G,{})}})}});export{I as DemoApp};
